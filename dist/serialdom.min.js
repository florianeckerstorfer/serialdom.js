!function(t,e){"use strict";"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(["exports","require"],function(){return e()}):t.SerialDOM=e()}(window,function(){var t=function(t){this.options=this.constructor.defaultOptions;for(var e in t)this.options[e]=t[e]};return t.defaultOptions={customProperties:[],defaultProperties:["className","clientHeight","clientLeft","clientTop","clientWidth","scrollHeight","scrollLeft","scrollTop","scrollWidth","tagName"]},t.prototype.serialize=function(t){return JSON.stringify(this.simplifyElement(t))},t.prototype.simplifyElement=function(t){var e={nodeType:t.nodeType};if(e.nodeType===Node.TEXT_NODE)e.textContent=t.textContent;else if(e.nodeType===Node.ELEMENT_NODE){e.attributes=this.simplifyAttributes(t),e.children=this.simplifyChildren(t);for(var i=0;i<this.options.defaultProperties.length;i++)t[this.options.defaultProperties[i]]&&(e[this.options.defaultProperties[i]]=t[this.options.defaultProperties[i]]);for(var i=0;i<this.options.customProperties.length;i++)t[this.options.customProperties[i]]&&(e[this.options.customProperties[i]]=t[this.options.customProperties[i]])}return e},t.prototype.simplifyAttributes=function(t){var e={};if(t.attributes)for(var i=0;i<t.attributes.length;i++)e[t.attributes[i].name]=t.attributes[i].value;return e},t.prototype.simplifyChildren=function(t){var e=[];if(t.hasChildNodes())for(var i=0;i<t.childNodes.length;i++)e.push(this.simplifyElement(t.childNodes[i]));return e},t});